import{c as v,r,b as V,j as e,d as F,P as O,e as H,f as W,L as G,a as N,m as j,B as _,X as T,u as K,g as Q,M as X,h as Y,_ as Z,i as k}from"./index-67fEfVSB.js";import{C as M}from"./Card-Dzb9p_KF.js";import{I as J,S as A,C as z}from"./Select-B8Gck73m.js";import{T as ee,a as se,L as te,D as ne}from"./Disclaimer-B7UStoib.js";import{C as $}from"./circle-alert-D5x9dDSW.js";import{S as oe,A as ae}from"./stethoscope-DBjPP7gy.js";import{analyzeSymptoms as re}from"./api-ebqt3Pvv.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=v("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=v("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=v("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=v("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=v("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=v("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=v("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=v("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=v("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=v("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=v("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);class ge extends r.Component{getSnapshotBeforeUpdate(c){const t=this.props.childRef.current;if(t&&c.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fe({children:n,isPresent:c}){const t=r.useId(),s=r.useRef(null),h=r.useRef({width:0,height:0,top:0,left:0}),{nonce:m}=r.useContext(V);return r.useInsertionEffect(()=>{const{width:a,height:p,top:y,left:l}=h.current;if(c||!s.current||!a||!p)return;s.current.dataset.motionPopId=t;const d=document.createElement("style");return m&&(d.nonce=m),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${p}px !important;
            top: ${y}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[c]),e.jsx(ge,{isPresent:c,childRef:s,sizeRef:h,children:r.cloneElement(n,{ref:s})})}const be=({children:n,initial:c,isPresent:t,onExitComplete:s,custom:h,presenceAffectsLayout:m,mode:a})=>{const p=F(je),y=r.useId(),l=r.useCallback(i=>{p.set(i,!0);for(const o of p.values())if(!o)return;s&&s()},[p,s]),d=r.useMemo(()=>({id:y,initial:c,isPresent:t,custom:h,onExitComplete:l,register:i=>(p.set(i,!1),()=>p.delete(i))}),m?[Math.random(),l]:[t,l]);return r.useMemo(()=>{p.forEach((i,o)=>p.set(o,!1))},[t]),r.useEffect(()=>{!t&&!p.size&&s&&s()},[t]),a==="popLayout"&&(n=e.jsx(fe,{isPresent:t,children:n})),e.jsx(O.Provider,{value:d,children:n})};function je(){return new Map}const S=n=>n.key||"";function P(n){const c=[];return r.Children.forEach(n,t=>{r.isValidElement(t)&&c.push(t)}),c}const q=({children:n,custom:c,initial:t=!0,onExitComplete:s,presenceAffectsLayout:h=!0,mode:m="sync",propagate:a=!1})=>{const[p,y]=H(a),l=r.useMemo(()=>P(n),[n]),d=a&&!p?[]:l.map(S),i=r.useRef(!0),o=r.useRef(l),u=F(()=>new Map),[x,g]=r.useState(l),[b,B]=r.useState(l);W(()=>{i.current=!1,o.current=l;for(let w=0;w<b.length;w++){const f=S(b[w]);d.includes(f)?u.delete(f):u.get(f)!==!0&&u.set(f,!1)}},[b,d.length,d.join("-")]);const I=[];if(l!==x){let w=[...l];for(let f=0;f<b.length;f++){const C=b[f],L=S(C);d.includes(L)||(w.splice(f,0,C),I.push(C))}m==="wait"&&I.length&&(w=I),B(P(w)),g(l);return}const{forceRender:E}=r.useContext(G);return e.jsx(e.Fragment,{children:b.map(w=>{const f=S(w),C=a&&!p?!1:l===b||d.includes(f),L=()=>{if(u.has(f))u.set(f,!0);else return;let R=!0;u.forEach(D=>{D||(R=!1)}),R&&(E==null||E(),B(o.current),a&&(y==null||y()),s&&s())};return e.jsx(be,{isPresent:C,initial:!i.current||t?void 0:!1,custom:C?void 0:c,presenceAffectsLayout:h,mode:m,onExitComplete:C?void 0:L,children:w},f)})})},ve=n=>{const{i18n:c}=N(),[t,s]=r.useState(!1),[h,m]=r.useState(""),[a,p]=r.useState(null),y=i=>({en:"en-US",hi:"hi-IN",mr:"mr-IN",bn:"bn-IN"})[i]||"en-US";r.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const i=window.SpeechRecognition||window.webkitSpeechRecognition,o=new i;o.continuous=!1,o.interimResults=!0,o.onstart=()=>{s(!0),m("")},o.onend=()=>{s(!1)},o.onerror=u=>{console.error("Speech recognition error",u.error),m(u.error),s(!1)},o.onresult=u=>{const x=Array.from(u.results).map(g=>g[0]).map(g=>g.transcript).join("");u.results[0].isFinal&&n&&n(x)},p(o)}else m("Browser not supported")},[n]);const l=r.useCallback(()=>{if(a)try{a.lang=y(c.language),a.start()}catch(i){console.error("Failed to start recognition:",i)}else m("Voice input not supported in this browser")},[a,c.language]),d=r.useCallback(()=>{a&&a.stop()},[a]);return{isListening:t,startListening:l,stopListening:d,error:h,isSupported:!!a}},we=({onResult:n,className:c=""})=>{const{t}=N(),{isListening:s,startListening:h,stopListening:m,isSupported:a}=ve(n);return a?e.jsxs("div",{className:`relative ${c}`,children:[s&&e.jsx("span",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs py-1 px-2 rounded whitespace-nowrap",children:t("common.listening","Listening...")}),e.jsx(j.button,{type:"button",whileTap:{scale:.95},onClick:s?m:h,className:`
          p-3 rounded-full transition-colors relative
          ${s?"bg-red-50 text-red-600 border border-red-200":"bg-gray-50 text-gray-600 border border-gray-200 hover:bg-gray-100"}
        `,title:s?"Stop listening":"Start voice input",children:s?e.jsxs(e.Fragment,{children:[e.jsx(j.div,{className:"absolute inset-0 rounded-full border-2 border-red-400",animate:{scale:[1,1.2,1],opacity:[1,0,1]},transition:{repeat:1/0,duration:2}}),e.jsx(pe,{className:"w-5 h-5 relative z-10"})]}):e.jsx(de,{className:"w-5 h-5"})})]}):null},Ne=({onSubmit:n,loading:c})=>{const{t}=N(),[s,h]=r.useState({age:"",gender:"",symptoms:"",duration:""}),[m,a]=r.useState({}),p=[{value:"male",label:t("symptoms.form.options.male")},{value:"female",label:t("symptoms.form.options.female")},{value:"other",label:t("symptoms.form.options.other")},{value:"prefer-not-to-say",label:t("symptoms.form.options.prefer_not_to_say")}],y=[{value:"few-hours",label:t("symptoms.form.options.hours")},{value:"1-day",label:t("symptoms.form.options.days_1")},{value:"2-3-days",label:t("symptoms.form.options.days_2_3")},{value:"1-week",label:t("symptoms.form.options.weeks_1")},{value:"2-weeks",label:t("symptoms.form.options.weeks_2")},{value:"1-month",label:t("symptoms.form.options.months_1")}],l=()=>{const o={};return(!s.age||s.age<1||s.age>120)&&(o.age=t("symptoms.form.errors.age")),(!s.symptoms||s.symptoms.trim().length<10)&&(o.symptoms=t("symptoms.form.errors.symptoms")),a(o),Object.keys(o).length===0},d=o=>{o.preventDefault(),l()&&n(s)},i=(o,u)=>{h(x=>({...x,[o]:u})),m[o]&&a(x=>({...x,[o]:null}))};return e.jsxs(j.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(J,{label:t("symptoms.form.age"),type:"number",placeholder:t("symptoms.form.age_placeholder"),value:s.age,onChange:o=>i("age",o.target.value),error:m.age,icon:xe,required:!0,min:"1",max:"120"}),e.jsx(A,{label:t("symptoms.form.gender"),options:p,value:s.gender,onChange:o=>i("gender",o.target.value),placeholder:t("symptoms.form.gender_placeholder")})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{label:t("symptoms.form.symptoms"),placeholder:t("symptoms.form.symptoms_placeholder"),value:s.symptoms,onChange:o=>i("symptoms",o.target.value),error:m.symptoms,required:!0,rows:6}),e.jsx(we,{className:"absolute right-2 bottom-2",onResult:o=>{const u=s.symptoms?`${s.symptoms} ${o}`:o;i("symptoms",u)}})]}),e.jsx(A,{label:t("symptoms.form.duration"),options:y,value:s.duration,onChange:o=>i("duration",o.target.value),placeholder:t("symptoms.form.duration_placeholder"),icon:ce}),e.jsx(_,{type:"submit",loading:c,fullWidth:!0,size:"lg",icon:ue,iconPosition:"right",children:t("symptoms.form.submit")}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:t("symptoms.form.privacy")})]})},Ce=({variant:n="info",title:c,children:t,onClose:s,className:h=""})=>{const a={info:{bg:"bg-blue-50 border-blue-200",icon:me,iconColor:"text-blue-600",titleColor:"text-blue-900",textColor:"text-blue-800"},success:{bg:"bg-green-50 border-green-200",icon:U,iconColor:"text-green-600",titleColor:"text-green-900",textColor:"text-green-800"},warning:{bg:"bg-amber-50 border-amber-200",icon:se,iconColor:"text-amber-600",titleColor:"text-amber-900",textColor:"text-amber-800"},error:{bg:"bg-red-50 border-red-200",icon:$,iconColor:"text-red-600",titleColor:"text-red-900",textColor:"text-red-800"},emergency:{bg:"bg-red-600 border-red-700",icon:$,iconColor:"text-white",titleColor:"text-white",textColor:"text-red-100"}}[n],p=a.icon;return e.jsx(j.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`
        ${a.bg} 
        border-2 rounded-xl p-4 
        ${h}
      `,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(j.div,{animate:n==="emergency"?{scale:[1,1.2,1]}:{},transition:{duration:.5,repeat:n==="emergency"?1/0:0},children:e.jsx(p,{className:`w-6 h-6 flex-shrink-0 ${a.iconColor}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[c&&e.jsx("h4",{className:`font-bold ${a.titleColor} mb-1`,children:c}),e.jsx("div",{className:`text-sm ${a.textColor} leading-relaxed`,children:t})]}),s&&e.jsx("button",{onClick:s,className:`${a.iconColor} hover:opacity-70 transition-opacity`,"aria-label":"Close alert",children:e.jsx(T,{className:"w-5 h-5"})})]})})},ke=()=>{const{i18n:n}=N(),[c,t]=r.useState(!1),[s,h]=r.useState(!1);r.useEffect(()=>{"speechSynthesis"in window&&h(!0)},[]);const m=y=>({en:"en-US",hi:"hi-IN",mr:"mr-IN",bn:"bn-IN"})[y]||"en-US",a=r.useCallback(y=>{if(!s||!y)return;window.speechSynthesis.cancel();const l=new SpeechSynthesisUtterance(y);l.lang=m(n.language),l.rate=.9,l.pitch=1,l.onstart=()=>t(!0),l.onend=()=>t(!1),l.onerror=d=>{console.error("Speech synthesis error:",d),t(!1)},window.speechSynthesis.speak(l)},[n.language,s]),p=r.useCallback(()=>{s&&(window.speechSynthesis.cancel(),t(!1))},[s]);return{speak:a,cancel:p,isSpeaking:c,isSupported:s}},Se=({text:n,className:c=""})=>{const{t}=N(),{speak:s,cancel:h,isSpeaking:m,isSupported:a}=ke();return!a||!n?null:e.jsx(_,{variant:"secondary",size:"sm",icon:m?he:ye,onClick:()=>m?h():s(n),className:`${m?"bg-amber-100 text-amber-800":""} ${c}`,children:m?t("common.stop_listening","Stop"):t("common.listen","Listen")})},_e=({data:n,onFollowUp:c,isUpdating:t})=>{const{t:s}=N(),[h,m]=r.useState({causes:!0,advice:!0,followUp:!1}),a=d=>{m(i=>({...i,[d]:!i[d]}))},y=n.emergency?{color:"bg-red-100 text-red-800 border-red-200",label:s("symptoms.analysis.emergency")}:n.see_doctor?{color:"bg-amber-100 text-amber-800 border-amber-200",label:s("symptoms.analysis.see_doctor")}:{color:"bg-green-100 text-green-800 border-green-200",label:s("symptoms.analysis.low_concern")},l=({title:d,icon:i,isOpen:o,onToggle:u,children:x})=>e.jsxs(M,{className:"overflow-hidden",padding:"none",hover:!1,animate:!1,children:[e.jsxs("button",{onClick:u,className:"w-full flex items-center justify-between p-4 sm:p-6 hover:bg-gray-50 transition-colors","aria-expanded":o,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(i,{className:"w-5 h-5 text-[#2B6CB0]"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d})]}),o?e.jsx(ie,{className:"w-5 h-5 text-gray-400"}):e.jsx(z,{className:"w-5 h-5 text-gray-400"})]}),e.jsx(q,{children:o&&e.jsx(j.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"px-4 sm:px-6 pb-4 sm:pb-6 pt-0",children:x})})})]});return e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s("symptoms.analysis.title")}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{text:`${s("symptoms.analysis.title")}. ${n.care_advice||""}. ${n.possible_causes?n.possible_causes.join(". "):""}`}),e.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold border ${y.color}`,children:y.label})]})]}),n.see_doctor&&!n.emergency&&e.jsx(Ce,{variant:"warning",title:s("symptoms.analysis.doctor_recommended"),children:s("symptoms.analysis.doctor_recommended_desc")}),e.jsx(l,{title:s("symptoms.analysis.possible_causes"),icon:oe,isOpen:h.causes,onToggle:()=>a("causes"),children:n.possible_causes&&n.possible_causes.length>0?e.jsx("ul",{className:"space-y-3",children:n.possible_causes.map((d,i)=>e.jsxs(j.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:i*.1},className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-[#2B6CB0] text-white rounded-full flex items-center justify-center text-sm font-bold",children:i+1}),e.jsx("span",{className:"text-gray-700 leading-relaxed",children:d})]},i))}):e.jsx("p",{className:"text-gray-500",children:s("symptoms.analysis.no_causes")})}),e.jsx(l,{title:s("symptoms.analysis.care_advice"),icon:te,isOpen:h.advice,onToggle:()=>a("advice"),children:n.care_advice?e.jsx("div",{className:"prose prose-sm max-w-none text-gray-700",children:e.jsx("p",{className:"leading-relaxed whitespace-pre-line",children:n.care_advice})}):e.jsx("p",{className:"text-gray-500",children:s("symptoms.analysis.no_advice")})}),n.follow_up_questions&&n.follow_up_questions.length>0&&e.jsx(l,{title:s("symptoms.analysis.refine"),icon:le,isOpen:h.followUp,onToggle:()=>a("followUp"),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:s("symptoms.analysis.refine_desc")}),e.jsxs("form",{onSubmit:d=>{d.preventDefault();const i=new FormData(d.target),o={};n.follow_up_questions.forEach((x,g)=>{o[x]=i.get(`question_${g}`)});const u=Object.entries(o).map(([x,g])=>`Q: ${x}
A: ${g}`).join(`

`);c&&c(u)},className:"space-y-4",children:[n.follow_up_questions.map((d,i)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:d}),e.jsx("textarea",{name:`question_${i}`,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#2B6CB0] focus:border-transparent outline-none transition-all",rows:"2",placeholder:"Your answer...",required:!0})]},i)),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs("button",{type:"submit",disabled:t,className:"px-6 py-2 bg-[#2B6CB0] text-white rounded-lg font-semibold hover:bg-[#2C5282] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[s(t?"symptoms.analysis.updating":"symptoms.analysis.update_btn"),!t&&e.jsx(z,{className:"w-4 h-4 rotate-[-90deg]"})]})})]})]})}),e.jsx(M,{className:"!bg-gray-50",hover:!1,animate:!1,children:e.jsx("div",{className:"flex items-center gap-4",children:n.see_doctor?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-amber-100 rounded-full",children:e.jsx($,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:s("symptoms.analysis.doctor_recommended")}),e.jsx("p",{className:"text-gray-600 text-sm",children:s("symptoms.analysis.doctor_recommended_desc")})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(U,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:s("symptoms.analysis.monitor_home")}),e.jsx("p",{className:"text-gray-600 text-sm",children:s("symptoms.analysis.monitor_home_desc")})]})]})})}),e.jsx(ne,{})]})},Me=({onClose:n})=>{const c=K(),{t}=N();return e.jsx(q,{children:e.jsx(j.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",damping:15},className:"fixed inset-x-0 top-16 sm:top-20 z-40 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-red-600 text-white rounded-2xl shadow-2xl p-6 sm:p-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-red-500 animate-pulse opacity-30"}),e.jsxs("div",{className:"relative z-10",children:[n&&e.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors","aria-label":"Close alert",children:e.jsx(T,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(j.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5,repeat:1/0},children:e.jsx($,{className:"w-10 h-10"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold",children:["⚠️ ",t("symptoms.emergency.title")]}),e.jsx("p",{className:"text-red-100",children:t("symptoms.emergency.subtitle")})]})]}),e.jsx("p",{className:"text-red-100 mb-6 leading-relaxed",children:t("symptoms.emergency.message")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(_,{variant:"outline",className:"!bg-white !text-red-600 hover:!bg-red-50 !border-white",icon:Q,onClick:()=>window.location.href="tel:108",children:t("symptoms.emergency.call_btn")}),e.jsx(_,{variant:"outline",className:"!border-white/50 !text-white hover:!bg-white/10",icon:X,onClick:()=>c("/hospitals"),children:t("symptoms.emergency.find_hospital")})]})]})]})})})})},ze=()=>{const{t:n,i18n:c}=N(),[t,s]=r.useState(!1),[h,m]=r.useState(null),[a,p]=r.useState(!1),[y,l]=r.useState(""),d=async u=>{s(!0),m(null),p(!1);try{const x=`
        Patient Information:
        - Age: ${u.age} years
        - Gender: ${u.gender||"Not specified"}
        - Duration: ${u.duration||"Not specified"}
        
        Symptoms:
        ${u.symptoms}
      `.trim();l(x);const g=await re({symptoms:x,language:c.language}),b=g.data||g;m(b),b.emergency?(p(!0),k.error("Emergency symptoms detected! Please seek immediate medical care.")):b.see_doctor?k.warning("We recommend consulting a healthcare provider."):k.success("Analysis complete!")}catch(x){console.error("Analysis error:",x),k.error(x.message||"Failed to analyze symptoms. Please try again.")}finally{s(!1)}},i=()=>{m(null),p(!1),l("")},o=async u=>{s(!0);try{const x=await Z(()=>import("./api-ebqt3Pvv.js"),[]).then(b=>b.submitFollowUp({original_symptoms:y,follow_up_answers:u,language:c.language})),g=x.data||x;m(g),k.success("Analysis updated with new information!")}catch(x){console.error("Follow-up error:",x),k.error("Failed to update analysis.")}finally{s(!1)}};return e.jsxs("div",{className:"min-h-screen bg-[#F7FAFC]",children:[a&&e.jsx(Me,{onClose:()=>p(!1)}),e.jsx("section",{className:"bg-white border-b border-gray-100",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-50 rounded-2xl mb-4",children:e.jsx(ae,{className:"w-8 h-8 text-[#2B6CB0]"})}),e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-3",children:n("symptoms.title")}),e.jsx("p",{className:"text-lg text-gray-600 max-w-xl mx-auto",children:n("symptoms.subtitle")})]})})}),e.jsx("section",{className:"py-8 sm:py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t?e.jsx(M,{children:e.jsx(Y,{message:n("symptoms.loading"),size:"default"})}):h?e.jsxs("div",{className:"space-y-6",children:[e.jsx(_e,{data:h,onFollowUp:o,isUpdating:t}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:i,className:"text-[#2B6CB0] font-semibold hover:underline",children:["← ",n("symptoms.new_analysis")]})})]}):e.jsx(M,{children:e.jsx(Ne,{onSubmit:d,loading:t})})})})]})};export{ze as default};
